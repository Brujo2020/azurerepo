<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width">
    <title>Agenda</title>
    
    <link rel="stylesheet" href="./flip/flip.min.css">

</head>
<body style="background-color: rgb(160, 176, 247);">

<!-- START OF FLIP EXAMPLE PRESET -->

<style>
    .tick {
        padding-bottom: 0em;
        font-size:1rem;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
    }
    
    .tick-label {
        font-size:.475em;
        text-align:center;
    }

    .tick-group {
        margin:0 .25em;
        text-align:center;
    }

    
</style>

<div style="text-align: center; font-family:tahoma; 
color: rgb(8, 38, 81); font-size: 0.8em ; margin-top: 8;" >
<h2>
<label id = "TextoEventoActual"></label><br>
</h2>
<h1>
    <div style="text-align: center; font-family:tahoma; font-style: normal; color: rgb(21, 40, 117);font-size: 0.8em ; margin-top: 8;" ></div>
<label id = "TextoEventoSiguiente"></label><br>
Quedan:
</label>
</h1>



<div style="text-align: center;"></div>
<div class="tick"
     data-did-init="handleTickInit">

    <div data-repeat="true"
         data-layout="horizontal center fit"
         data-transform="preset(h, m, s) -> delay">
        
        <div class="tick-group">

            <div data-key="value"
                 data-repeat="true"
                 data-transform="pad(00) -> split -> delay">
                <span data-view="flip"></span>
            </div>
            <span data-key="label"
                  data-view="text"
                  class="tick-label"></span>
        </div>
    </div>

</div>

<script>


	function handleTickInit(tick) {

        // Uncomment to set labels to different language ( in this case Dutch )
        
        var locale = {
            YEAR_PLURAL: 'Años',
            YEAR_SINGULAR: 'Año',
            MONTH_PLURAL: 'Meses',
            MONTH_SINGULAR: 'Mes',
            WEEK_PLURAL: 'Semanas',
            WEEK_SINGULAR: 'Semana',
            DAY_PLURAL: 'Dias',
            DAY_SINGULAR: 'Día',
            HOUR_PLURAL: 'Horas',
            HOUR_SINGULAR: 'Hora',
            MINUTE_PLURAL: 'Minutos',
            MINUTE_SINGULAR: 'Minuto',
            SECOND_PLURAL: 'Segundos',
            SECOND_SINGULAR: 'Segundo',
            MILLISECOND_PLURAL: 'Millisegundos',
            MILLISECOND_SINGULAR: 'Millisegundo'
        };

        for (var key in locale) {
            if (!locale.hasOwnProperty(key)) { continue; }
            tick.setConstant(key, locale[key]);
        }
        var d = Tick.helper.date();

        var event1 = (new Date()) ;

        var offset = 3 // Add 3 hours
        var fecha = "2022-11-14"
        var event1Hour = 21 ;
        var event1Minutes = "30"
        var event1HourUpdated = event1Hour - offset ;
        var tiempoEvento1 = event1HourUpdated + ":" + event1Minutes

        var event2Hour = 22 ;
        var event2Minutes = "00"
        var event2HourUpdated = event2Hour - offset ;
        var tiempoEvento2 = event2HourUpdated + ":" + event2Minutes

        var event3Hour = 22 ;
        var event3Minutes = "45"
        var event3HourUpdated = event3Hour - offset ;
        var tiempoEvento3 = event3HourUpdated + ":" + event3Minutes

        var event4Hour = 22 ;
        var event4Minutes = "00"

        var event5Hour = 22 ;
        var event5Minutes = "05"

        var event6Hour = 09 ;
        var event6Minutes = "55"

        const serverTime = new Date().getUTCHours();
        const localTime = new Date().getHours();
        const serverTimeMin = new Date().getUTCMinutes();
        var diff = serverTime - localTime
        var finalTime = serverTime - 3;

        var testHour = serverTime - 2

    var fecha1 = '2022-11-04T' + event1Hour + ':25:00';


        var fecha1 = '2022-11-04T' + event1Hour + ':25:00';
        var fechaEvento1 = Tick.helper.date('2022-11-04T09:25:00').getU;
        var fechaEvento2 = Tick.helper.date('2022-11-04T17:28:00');
        var fechaEvento3 = Tick.helper.date('2022-11-04T17:30:00')
        setFirstEvent();

    //document.write("<br>Date is: "+ fechaEvento1);
        function setFirstEvent(){
            updateText("Sesión en curso: Recepción de los invitados","Próxima sesión: Presentación del estudio sobre Low-Code")
            var counter1 = Tick.count.down(fecha + " " + event1Hour + ":" + event1Minutes, {format:['h','m','s']});
            counter1.onupdate = function(value) {
            // value will contain amount of seconds left
            tick.value = value;
        };
        counter1.onended = function() {
            // reached zero!
            setSecondEvent();
            
        }
        }

        function setSecondEvent(){
            updateText("Sesión en curso: Presentación del estudio sobre Low-Code" ,"Próxima sesión: Compartir de experiencias en salas privadas")
            var counter2 = Tick.count.down(fecha + " " + event2Hour + ":" + event2Minutes, {format:['h','m','s']});
    counter2.onupdate = function(value) {
    // value will contain amount of seconds left
        tick.value = value;
        };
        counter2.onended = function() {
        // reached zero!
            setThirdEvent();
        }

        }

        function setThirdEvent(){
            updateText("Sesión en curso: Compartir de experiencias en salas privadas","Próxima sesión: Navegación en el Metaverso")
            var counter3 = Tick.count.down(fecha + " " + event3Hour + ":" + event3Minutes, {format:['h','m','s']});
        counter3.onupdate = function(value) {
        // value will contain amount of seconds left
            tick.value = value;
            };
            counter3.onended = function() {
            // reached zero!

            setFourthEvent();
         }
        }

        function setFourthEvent(){
            updateText("Sesión en curso: Navegación en el Metaverso","Próxima sesión: Agradecimiento a los invitados")
            var counter4 = Tick.count.down(fecha + " " + event4Hour + ":" + event4Minutes, {format:['h','m','s']});
        counter4.onupdate = function(value) {
        // value will contain amount of seconds left
            tick.value = value;
            };
            counter4.onended = function() {
            // reached zero!

            setFifthEvent() ;
         }
        }

        function setFifthEvent(){
            updateText("Sesión en curso: Agradecimiento a los invitados","Próxima sesión: Reflecciones Estratégicas Finales")
            var counter5 = Tick.count.down(fecha + " " + event5Hour + ":" + event5Minutes, {format:['h','m','s']});
        counter5.onupdate = function(value) {
        // value will contain amount of seconds left
            tick.value = value;
            };
            counter5.onended = function() {
            // reached zero!

            setSixthEvent();
         }
        }

        function setSixthEvent(){
            updateText("Sesión en curso: Reflexiones Estratégicas Finales", "")
            var counter6 = Tick.count.down(fecha + " " + event6Hour + ":" + event6Minutes, {format:['h','m','s']});
        counter6.onupdate = function(value) {
        // value will contain amount of seconds left
            tick.value = value;
            };
            counter6.onended = function() {
            // reached zero!

            document.write("<br>Date is: "+ d.getYear()+"/"+ d.getMonth() + "/" + d.getDay() + " - " + d.getHours() + ":" + d.getMinutes() + ":"+ d.getSeconds()) ;
         }
        }

        function updateText(texto1, texto2) {
            var x = document.getElementById("TextoEventoActual");
            var y = document.getElementById("TextoEventoSiguiente");
                x.innerHTML = texto1;
                y.innerHTML = texto2;
            
        }

	}
</script>

<!-- END OF FLIP EXAMPLE PRESET -->

<script src="./flip/flip.min.js"></script>

</body>
</html>